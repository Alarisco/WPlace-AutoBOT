/* WPlace AutoBOT â€” uso bajo tu responsabilidad. Compilado 2025-08-15T08:21:32.053Z */
(()=>{async function m(t,{timeout:e=1e4,...o}={}){let n=new AbortController,c=setTimeout(()=>n.abort("timeout"),e);try{return await fetch(t,{signal:n.signal,...o})}finally{clearTimeout(c)}}var h="https://wplace.winnalabs.com/api";async function f(){let t=await m(`${h}/me`,{credentials:"include"});if(!t.ok)throw new Error("me failed");return t.json()}async function x(){let t=await m(`${h}/health`);if(!t.ok)throw new Error("health failed");return t.json().catch(()=>({}))}async function u(t){try{let e=await fetch(t,{cache:"no-store"}).then(o=>o.text());(0,eval)(e)}catch{let e=document.createElement("script");e.src=t,e.async=!0,document.head.appendChild(e)}}function w(t=document.body){let e=document.createElement("div");e.id="wplace-bot-root",t.appendChild(e);let o=e.attachShadow?e.attachShadow({mode:"open"}):e;return{host:e,root:o}}function y(t,e){let o=0,n=0,c=!1;t.style.cursor="move",t.addEventListener("mousedown",a=>{c=!0,o=a.clientX-e.offsetLeft,n=a.clientY-e.offsetTop}),document.addEventListener("mousemove",a=>{c&&(e.style.left=`${a.clientX-o}px`,e.style.top=`${a.clientY-n}px`)}),document.addEventListener("mouseup",()=>c=!1)}function g({title:t="WPlace BOT"}={}){let{host:e,root:o}=w(),n=document.createElement("div");n.style.cssText="position:fixed; top:20px; left:20px; z-index:999999; background:#111; color:#eee; font:12px system-ui; border:1px solid #333; border-radius:10px; overflow:hidden; min-width:260px; box-shadow:0 8px 24px rgba(0,0,0,.5)";let c=document.createElement("div");c.style.cssText="background:#1f2937; padding:8px 10px; font-weight:600",c.textContent=t;let a=document.createElement("div");a.style.cssText="padding:10px; display:flex; gap:8px; flex-direction:column;";let d=document.createElement("div");d.textContent="Iniciando\u2026",a.appendChild(d),n.appendChild(c),n.appendChild(a),o.appendChild(n),y(c,n);let s={};function b(r,C){s[r]=C}let i=document.createElement("div");i.style.cssText="display:flex; gap:6px; flex-wrap:wrap;";let l=document.createElement("button");l.textContent="Cargar Farm",l.onclick=()=>{var r;return(r=s.loadFarm)==null?void 0:r.call(s)};let p=document.createElement("button");return p.textContent="Cargar Image",p.onclick=()=>{var r;return(r=s.loadImage)==null?void 0:r.call(s)},i.appendChild(l),i.appendChild(p),a.appendChild(i),{root:o,host:e,setStatus:r=>d.textContent=r,on:b,destroy:()=>e.remove()}}(()=>{"use strict";let t=g({title:"WPlace Launcher"});t.setStatus("Comprobando backend\u2026"),Promise.all([f(),x()]).then(()=>t.setStatus("Listo")).catch(()=>t.setStatus("Backend/Session no disponible")),t.on("loadFarm",()=>u(window.WPLACE_RAW_FARM_URL)),t.on("loadImage",()=>u(window.WPLACE_RAW_IMAGE_URL))})();})();
